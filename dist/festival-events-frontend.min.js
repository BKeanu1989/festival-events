"use strict";var _createClass=function(){function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var all_are_you_renter_container=void 0,are_you_renter_boxes=void 0,form_checkout=void 0,fieldsToValidate=void 0,uniqueIdentifiers=new Set;all_are_you_renter_container=document.querySelectorAll("div.checkbox-required[data-identifier]");var wm_validationPassed=new WeakMap;function validateCheckbox(){var a=[];return uniqueIdentifiers.forEach(function(e){try{var t,r=document.querySelector('div[data-identifier="'+e+'"]');t=Array.from(r.querySelectorAll('input[type="radio"]')).some(function(e){return e.checked}),wm_validationPassed.set(r,t),a.push(t)}catch(e){console.log(e)}}),a.every(function(e){return e})}function handleInvalidCheckbox(){try{return scrollIntoViewNBlink(all_are_you_renter_container),!1}catch(e){console.log(e)}}function handleFieldsToValidate(){var a=[];return(fieldsToValidate=document.querySelectorAll(".extra_person__wrapper:not(.hide_if_yes)"))&&fieldsToValidate.forEach(function(e){var t,r=[e.querySelector('[name^="extra_person-first_name"]'),e.querySelector('[name^="extra_person-last_name"]'),e.querySelector('[name^="extra_person-birthdate"]')];t=handleEmptyInput(r),a.push(t),attachInputEvent(r)}),scrollIntoViewNBlink(fieldsToValidate),a.every(function(e){return e})}function handleEmptyInput(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=[];return e.forEach(function(e){try{var t=void 0;""===e.value?(t=!1,e.classList.add("invalid")):t=!0,r.push(t),wm_validationPassed.set(e,t)}catch(e){console.log(e)}}),r.every(function(e){return e})}function attachInputEvent(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){t.addEventListener("input",function(e){try{t.classList.contains("invalid")&&t.classList.remove("invalid")}catch(e){console.log(e)}})})}function resetValidationClassesNScroll(e){var t=!1;e.forEach(function(e){e.classList.contains("blink")&&e.classList.remove("blink"),console.log("are you here"),!1!==wm_validationPassed.get(e)||t||(t=!0,console.log("should scroll to",e)),t&&e.scrollIntoView({behavior:"smooth"})})}function scrollIntoViewNBlink(e){try{resetValidationClassesNScroll(e),setTimeout(function(){e.forEach(function(e){!1===wm_validationPassed.get(e)&&e.classList.add("blink")})},500)}catch(e){console.log(e)}}all_are_you_renter_container&&(are_you_renter_boxes=Array.from(document.querySelectorAll('input[type="radio"][name^="renter"')))&&are_you_renter_boxes.forEach(function(r){var a=r.dataset.identifier;uniqueIdentifiers.add(a),r.addEventListener("change",function(){try{var e=r.value,t=document.querySelector('.extra_person__wrapper[data-identifier="'+a+'"');"yes"===e&&(t.classList.add("hide_if_yes"),t.classList.add("hide_if_default"),t.classList.toggle("fadeIn")),"no"===e&&(t.classList.remove("hide_if_yes"),t.classList.remove("hide_if_default"),t.classList.toggle("fadeIn"))}catch(e){console.log(e)}})}),(form_checkout=document.querySelector('form[name="checkout"]'))&&jQuery("form.checkout").on("checkout_place_order",function(){var e=validateCheckbox();e||handleInvalidCheckbox();var t=handleFieldsToValidate();return console.log("should scroll @invalid"),!(!t||!e)});var chooseLockerButtons=void 0,lockerSelect=void 0,productForm=void 0;chooseLockerButtons=Array.from(document.querySelectorAll("button.chooseLocker")),lockerSelect=document.querySelector("select#pa_locker"),productForm=document.querySelector("form.cart.variations_form"),chooseLockerButtons&&chooseLockerButtons.forEach(function(e){e.addEventListener("click",function(e){var t=e.target.dataset.identifier+"-"+currentLanguage,r=Array.from(lockerSelect.options).filter(function(e){if(e.value===t)return e});r=r[0],lockerSelect.value=r.value,jQuery(".variations_form").trigger("check_variations"),productForm.scrollIntoView({behavior:"smooth"})})});var $confirmEmail=void 0;($confirmEmail=document.querySelector("#billing_email_confirm"))&&$confirmEmail.addEventListener("keydown",function(e){(e.metaKey||e.ctrlKey)&&86==e.keyCode&&(e.preventDefault(),console.log("CEO doesn't want this to happen"))});var triggerPopulateUserDataButton=void 0;(triggerPopulateUserDataButton=document.querySelector("#populate_data_for_other_lockers"))&&triggerPopulateUserDataButton.addEventListener("click",function(){new PopulateUserData});var PopulateUserData=function(){function e(){_classCallCheck(this,e),this._firstNames,this._lastNames,this._birtdates,this.firstName,this.lastName,this.birtdate,this.init(),this.setData()}return _createClass(e,[{key:"init",value:function(){this._firstNames=Array.from(document.querySelectorAll('[name*="[first_name]"]')),this._lastNames=Array.from(document.querySelectorAll('[name*="[last_name]"]')),this._birthdates=Array.from(document.querySelectorAll('[name*="[birthdate]"]')),this.firstName=this._firstNames[0].value,this.lastName=this._lastNames[0].value,this.birthdate=this._birthdates[0].value,this._firstNames.shift(),this._lastNames.shift(),this._birthdates.shift()}},{key:"setData",value:function(){var t=this;this._firstNames.forEach(function(e){e.value=t.firstName}),this._lastNames.forEach(function(e){e.value=t.lastName}),this._birthdates.forEach(function(e){e.value=t.birthdate})}}]),e}();